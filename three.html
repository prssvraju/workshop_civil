<html>

<head>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">

</head>

<body>
	<h1>First</h1>
	<input type="button" value=click onclick=myfun()></input>
	<button id="mybutton">My click</button>
	<button id="insert">AddUser</button>
	<button id="listuser">List Data</button>
	<button id="reqresuser">ReqResUser</button>
	<button id="wether">Wether</button>
	<div id="outputwether"></div>
	<div id="outputlistusers"></div>
	<div id="outputreqresusers"></div>

	<div class="container-fluid">
		<div class="row">
			<div class="col-lg-8 col-1" style="background-color:blue;">
				hello
			</div>
			<div class="col" style="background-color:red;">
				hello
			</div>
			<div class="col" style="background-color:pink;">
				hello
			</div>
		</div>
	</div>

	<script>

		document.getElementById('wether').addEventListener('click', function () {
			alert("wether");
			//fetch("https://api.openweathermap.org/data/2.5/weather?q=London&appid=119f8e2429dfbcf663b8ef7810340871")
			//lat=16.54&lon=81.52&
			//16.544998&lon=81.5215
			fetch("https://api.openweathermap.org/data/2.5/weather?lat=16.544998&lon=81.5215&appid=119f8e2429dfbcf663b8ef7810340871")
				.then(res => res.json())
				.then(data => {
					console.log(data);
					let output = '<h2>Wether Data</h2>';
					output += `
						<ul>
							<li>City: ${data.name}</li>
							<li>Temperature: ${data.main.temp} K</li>
							<li>Weather: ${data.weather[0].description}</li>
						</ul>
						`;
					document.getElementById('outputwether').innerHTML = output;
				})
				.catch(error => console.log("Error"))
		})
		document.getElementById('reqresuser').addEventListener('click', function () {
			alert("reqres user");
			fetch("https://reqres.in/api/users?page=2", {
				method: 'GET', // 'GET' is the default, so this line is optional but good practice
				headers: {
					'x-api-key': 'reqres_0759165fb8674e8ab428aeae18b863a6'
				}
			})

				.then(res => res.json())
				.then(data => {
					console.log(data);
					let output = '<h2>ReqRes Users</h2>';
					data.data.forEach(function (user) {
						output += `
						<ul>
							<li>User ID: ${user.id}</li>
							<li>Name: ${user.first_name} ${user.last_name}</li>
							<li>Email: ${user.email}</li>
							<li><img src="${user.avatar}" alt="Avatar"></li>
						</ul>
						`;
					});
					document.getElementById('outputreqresusers').innerHTML = output;
				})
				.catch(error => console.log("Error"))
		})

		document.getElementById('listuser').addEventListener('click', function () {
			alert("hello");
			fetch("https://jsonplaceholder.typicode.com/posts")
				.then(res => res.json())
				.then(data => {
					console.log(data);
					let output = '<h2>List of Users</h2>';
					data.forEach(function (user) {
						output += `
						<ul>
							<li>User ID: ${user.id}</li>
							<li>Title: ${user.title}</li>
							<li>Body: ${user.body}</li>
						</ul>
						`;
					});
					document.getElementById('outputlistusers').innerHTML = output;
				})
				.catch(error => console.log("Error"))
		})


		function myfun() {
			alert("Hello");
			fetch("https://randomuser.me/api/")
				.then(function (res) {
					return res.json();
				})
				.then(function (data) {
					console.log(data);
				});

		}

		document.getElementById('mybutton').addEventListener('click', function () {
			alert("raghu");
			fetch("https://randomuser.me/api")
				.then(res => {

					// 	if (!response.ok) {
					//   throw new Error(`HTTP error! status: ${response.status}`);
					// }
					if (res.ok) {
						console.log("successful");
						return res.json();
					}
					else {
						console.log("Failure");
					}
				})
				.then(data => console.log(data))
				.catch(error => console.log("Error"))

		});

		document.getElementById('insert').addEventListener('click', function () {
			alert("Add User");
			fetch("https://jsonplaceholder.typicode.com/posts", {
				method: 'POST',
				headers: {
					'Content-Type': 'application/json'
				},
				body: JSON.stringify({
					"title": "siva",
					"body": "bar",
					"userId": 1204
				})

			})
				.then(res => res.json())
				.then(data => {
					console.log(data);
					if (data.id) {
						alert("User Added Successfully with ID: " + data.id);
					}

				})
				.catch(error => console.log("Error"))

		});





	</script>


	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
		crossorigin="anonymous"></script>

	<body>

</html>